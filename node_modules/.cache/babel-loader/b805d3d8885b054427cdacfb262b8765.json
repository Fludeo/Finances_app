{"ast":null,"code":"import _slicedToArray from\"C:/Users/noah1/Documents/GitHub/Finances_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import FormatDate from\"../../../helper_functions/formatDate\";import{USDConverter}from\"../../../helper_functions/toCurrency\";import'../../styles/logged_page/home_page/record_table.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecordTable=function RecordTable(_ref){var token=_ref.token;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var location=useLocation();useEffect(function(){if(token===''){return;}fetch(\"\".concat(process.env.REACT_APP_PUBLIC_URL_API,\"/record/get/10/type/category/\"),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(res){return setTableData(res.records);}).catch(function(err){return console.log(err);});},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-table__head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table__header-amount\",children:/*#__PURE__*/_jsx(\"p\",{children:\"AMOUNT\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table__header-concept\",children:/*#__PURE__*/_jsx(\"p\",{children:\"CONCEPT\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table__header-type\",children:/*#__PURE__*/_jsx(\"p\",{children:\"TYPE\"})})]}),tableData!==null&&tableData.map(function(record){return/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-table__card \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-table__card-amount\",children:[/*#__PURE__*/_jsx(\"p\",{children:USDConverter(record.amount)}),/*#__PURE__*/_jsx(\"p\",{children:FormatDate(record.date)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table__card-concept\",children:/*#__PURE__*/_jsx(\"p\",{children:record.concept})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-table__card-type\",children:[/*#__PURE__*/_jsx(\"div\",{className:record.type==='income'?\"mobile-table__type-income\":\"mobile-table__type-outgo\",children:/*#__PURE__*/_jsx(\"p\",{children:record.type})}),/*#__PURE__*/_jsx(\"p\",{children:record.category})]})]},record.id);})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table__head\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"CONCEPT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AMOUNT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TYPE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableData!==null&&tableData.map(function(record){return/*#__PURE__*/_jsxs(\"tr\",{className:\"table__data-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:record.concept}),/*#__PURE__*/_jsx(\"td\",{children:USDConverter(record.amount)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{className:record.type==='income'?\"table__type-income\":\"table__type-outcome\",children:record.type})}),/*#__PURE__*/_jsx(\"td\",{children:record.category}),/*#__PURE__*/_jsx(\"td\",{children:FormatDate(record.date)})]},record.id);})})]})]});};export default RecordTable;","map":{"version":3,"sources":["C:/Users/noah1/Documents/GitHub/Finances_app/src/components/logged_page/home_page/RecordTable.tsx"],"names":["React","useEffect","useState","useLocation","FormatDate","USDConverter","RecordTable","token","tableData","setTableData","location","fetch","process","env","REACT_APP_PUBLIC_URL_API","method","headers","then","res","json","records","catch","err","console","log","map","record","amount","date","concept","type","category","id"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,sCAAvB,CAEA,OAASC,YAAT,KAA6B,sCAA7B,CAEA,MAAO,qDAAP,C,wFAOA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAhBC,CAAAA,KAAgB,MAAhBA,KAAgB,CACtC,cAAiCL,QAAQ,CAAqB,IAArB,CAAzC,wCAAOM,SAAP,eAAiBC,YAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAI,CACV,GAAGM,KAAK,GAAG,EAAX,CAAc,CAAC,OAAO,CACtBI,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,wBAAhB,kCAAwE,CAAEC,MAAM,CAAE,KAAV,CAC7EC,OAAO,CAAE,CACT,iCAA2BT,KAA3B,CADS,CADoE,CAAxE,CAAL,CAICU,IAJD,CAIM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAJT,EAKCF,IALD,CAKM,SAAAC,GAAG,QAAET,CAAAA,YAAY,CAACS,GAAG,CAACE,OAAL,CAAd,EALT,EAMCC,KAND,CAMO,SAAAC,GAAG,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF,EANV,EAQH,CAVQ,CAUP,CAACZ,QAAD,CAVO,CAAT,CAYI,mBACI,aAAK,SAAS,CAAC,iBAAf,wBACA,aAAK,SAAS,CAAC,cAAf,wBAGI,aAAK,SAAS,CAAC,oBAAf,wBAEI,YAAK,SAAS,CAAC,6BAAf,uBAA6C,6BAA7C,EAFJ,cAGI,YAAK,SAAS,CAAC,8BAAf,uBAA8C,8BAA9C,EAHJ,cAII,YAAK,SAAS,CAAC,2BAAf,uBAA2C,2BAA3C,EAJJ,GAHJ,CASGF,SAAS,GAAG,IAAZ,EAAkBA,SAAS,CAACiB,GAAV,CAAc,SAACC,MAAD,qBACjC,aAAK,SAAS,CAAC,qBAAf,wBACM,aAAK,SAAS,CAAC,2BAAf,wBACI,mBAAIrB,YAAY,CAACqB,MAAM,CAACC,MAAR,CAAhB,EADJ,cAEI,mBAAIvB,UAAU,CAACsB,MAAM,CAACE,IAAR,CAAd,EAFJ,GADN,cAKM,YAAK,SAAS,CAAC,4BAAf,uBACI,mBAAIF,MAAM,CAACG,OAAX,EADJ,EALN,cAQM,aAAK,SAAS,CAAC,yBAAf,wBACI,YAAK,SAAS,CAAEH,MAAM,CAACI,IAAP,GAAc,QAAd,CAAuB,2BAAvB,CAAmD,0BAAnE,uBAA+F,mBAAIJ,MAAM,CAACI,IAAX,EAA/F,EADJ,cAEI,mBAAIJ,MAAM,CAACK,QAAX,EAFJ,GARN,GAA0CL,MAAM,CAACM,EAAjD,CADiC,EAAd,CATrB,GADA,cA2BA,eAAO,SAAS,CAAC,OAAjB,wBACI,cAAO,SAAS,CAAC,aAAjB,uBACI,mCACI,+BADJ,cAEI,8BAFJ,cAGI,4BAHJ,cAII,gCAJJ,cAKI,4BALJ,GADJ,EADJ,cAUI,uBACCxB,SAAS,GAAG,IAAZ,EAAkBA,SAAS,CAACiB,GAAV,CAAc,SAACC,MAAD,qBAC7B,YAAI,SAAS,CAAC,iBAAd,wBACI,oBAAKA,MAAM,CAACG,OAAZ,EADJ,cAEI,oBAAKxB,YAAY,CAACqB,MAAM,CAACC,MAAR,CAAjB,EAFJ,cAGI,iCAAI,UAAG,SAAS,CAAED,MAAM,CAACI,IAAP,GAAc,QAAd,CAAuB,oBAAvB,CAA4C,qBAA1D,UAAkFJ,MAAM,CAACI,IAAzF,EAAJ,EAHJ,cAII,oBAAKJ,MAAM,CAACK,QAAZ,EAJJ,cAKI,oBAAK3B,UAAU,CAACsB,MAAM,CAACE,IAAR,CAAf,EALJ,GAAqCF,MAAM,CAACM,EAA5C,CAD6B,EAAd,CADnB,EAVJ,GA3BA,GADJ,CAqDH,CArED,CAwEA,cAAe1B,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport FormatDate from \"../../../helper_functions/formatDate\"\r\n\r\nimport { USDConverter } from \"../../../helper_functions/toCurrency\"\r\nimport { Record } from \"../../../types/types\"\r\nimport '../../styles/logged_page/home_page/record_table.css'\r\n\r\n\r\ntype props ={\r\n    token:string\r\n}\r\n\r\nconst RecordTable = ({token}:props) =>{\r\nconst [tableData,setTableData] = useState<Array<Record>|null>(null)\r\nconst location = useLocation()\r\n \r\nuseEffect(()=>{\r\n    if(token===''){return}\r\n    fetch(`${process.env.REACT_APP_PUBLIC_URL_API}/record/get/10/type/category/`,{ method: 'GET',\r\n    headers: {\r\n    'Authorization' :`Bearer ${token}`,\r\n    }})\r\n    .then(res=>res.json())\r\n    .then(res=>setTableData(res.records))\r\n    .catch(err=>console.log(err))\r\n\r\n},[location])\r\n\r\n    return(\r\n        <div className=\"table-container\">\r\n        <div className=\"mobile-table\">\r\n       \r\n       \r\n            <div className=\"mobile-table__head\">\r\n                \r\n                <div className=\"mobile-table__header-amount\"><p>AMOUNT</p></div>\r\n                <div className=\"mobile-table__header-concept\"><p>CONCEPT</p></div>\r\n                <div className=\"mobile-table__header-type\"><p>TYPE</p></div>\r\n            </div>\r\n          {tableData!==null&&tableData.map((record)=>   \r\n          <div className=\"mobile-table__card \" key={record.id}>\r\n                <div className=\"mobile-table__card-amount\">\r\n                    <p>{USDConverter(record.amount)}</p>\r\n                    <p>{FormatDate(record.date)}</p>\r\n                </div>\r\n                <div className=\"mobile-table__card-concept\">\r\n                    <p>{record.concept}</p>\r\n                </div>\r\n                <div className=\"mobile-table__card-type\">\r\n                    <div className={record.type==='income'?\"mobile-table__type-income\":\"mobile-table__type-outgo\"}><p>{record.type}</p></div>\r\n                    <p>{record.category}</p>\r\n                </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <table className=\"table\">\r\n            <thead className=\"table__head\">\r\n                <tr>\r\n                    <th>CONCEPT</th>\r\n                    <th>AMOUNT</th>\r\n                    <th>TYPE</th>\r\n                    <th>CATEGORY</th>\r\n                    <th>DATE</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {tableData!==null&&tableData.map((record)=>\r\n                <tr className=\"table__data-row\" key={record.id}>\r\n                    <td>{record.concept}</td>\r\n                    <td>{USDConverter(record.amount)}</td>\r\n                    <td><p className={record.type==='income'?\"table__type-income\":\"table__type-outcome\"}>{record.type}</p></td>\r\n                    <td>{record.category}</td>\r\n                    <td>{FormatDate(record.date)}</td>\r\n                </tr>\r\n            )}\r\n            </tbody>\r\n        </table>\r\n    \r\n        \r\n    </div>)\r\n}\r\n\r\n\r\nexport default RecordTable;"]},"metadata":{},"sourceType":"module"}