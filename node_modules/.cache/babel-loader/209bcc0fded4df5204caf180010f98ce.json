{"ast":null,"code":"import _slicedToArray from\"C:/Users/noah1/Documents/GitHub/Finances_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import{USDConverter}from\"../../../helper_functions/toCurrency\";import'../../styles/logged_page/home_page/total_balance.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TotalBalance=function TotalBalance(_ref){var token=_ref.token,buttonOnclick=_ref.buttonOnclick;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),balance=_useState2[0],setBalance=_useState2[1];var location=useLocation();console.log(balance);useEffect(function(){if(token!==''){fetch(\"\".concat(process.env.REACT_APP_PUBLIC_URL_API,\"/record/balance\"),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(res){return res.balance?setBalance(Number(res.balance)):setBalance(0);}).catch(function(err){return console.log(err);});}},[token,location]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"balance__container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"balance__header\",children:\"Your balance\"}),/*#__PURE__*/_jsx(\"h1\",{className:balance>=0?\"balance__number\":\"balance__number-negative\",children:USDConverter(balance)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"balance__button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:buttonOnclick,className:\"balance__button balance__button--hover\",children:\"New Record\"})})]});};export default TotalBalance;","map":{"version":3,"sources":["C:/Users/noah1/Documents/GitHub/Finances_app/src/components/logged_page/home_page/TotalBalance.tsx"],"names":["React","useEffect","useState","useLocation","USDConverter","TotalBalance","token","buttonOnclick","balance","setBalance","location","console","log","fetch","process","env","REACT_APP_PUBLIC_URL_API","method","headers","then","res","json","Number","catch","err"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,YAAT,KAA6B,sCAA7B,CAGA,MAAO,sDAAP,C,wFAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgC,IAA9BC,CAAAA,KAA8B,MAA9BA,KAA8B,CAAxBC,aAAwB,MAAxBA,aAAwB,CACrD,cAA6BL,QAAQ,CAAS,CAAT,CAArC,wCAAOM,OAAP,eAAeC,UAAf,eACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAQ,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EAEAP,SAAS,CAAC,UAAI,CACV,GAAGK,KAAK,GAAG,EAAX,CAAc,CACdO,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,wBAAhB,oBAA0D,CAAEC,MAAM,CAAE,KAAV,CACrDC,OAAO,CAAE,CACP,iCAA2BZ,KAA3B,CADO,CAD4C,CAA1D,CAAL,CAGgBa,IAHhB,CAGqB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAHxB,EAGsCF,IAHtC,CAG2C,SAACC,GAAD,QAAOA,CAAAA,GAAG,CAACZ,OAAJ,CACvCC,UAAU,CAACa,MAAM,CAACF,GAAG,CAACZ,OAAL,CAAP,CAD6B,CACPC,UAAU,CAAC,CAAD,CADV,EAH3C,EAKWc,KALX,CAKiB,SAAAC,GAAG,QAAEb,CAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ,CAAF,EALpB,EAKwC,CAC3C,CARQ,CAQP,CAAClB,KAAD,CAAOI,QAAP,CARO,CAAT,CAYI,mBACI,oCACC,aAAK,SAAS,CAAC,oBAAf,wBACG,WAAI,SAAS,CAAC,iBAAd,0BADH,cAEG,WAAI,SAAS,CAAEF,OAAO,EAAE,CAAT,CAAW,iBAAX,CAA6B,0BAA5C,UAA0EJ,YAAY,CAACI,OAAD,CAAtF,EAFH,GADD,cAKC,YAAK,SAAS,CAAC,2BAAf,uBACG,eAAQ,OAAO,CAAED,aAAjB,CAAgC,SAAS,CAAC,wCAA1C,wBADH,EALD,GADJ,CAUH,CA5BD,CA8BA,cAAeF,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { USDConverter } from \"../../../helper_functions/toCurrency\"\r\n\r\n\r\nimport '../../styles/logged_page/home_page/total_balance.css'\r\n\r\n\r\n\r\ntype props ={\r\n    buttonOnclick: ()=>void\r\n    token:string\r\n}\r\nconst TotalBalance = ({token,buttonOnclick}:props) =>{\r\nconst [balance,setBalance] = useState<number>(0)\r\nconst location = useLocation()\r\n\r\nconsole.log(balance)\r\n\r\nuseEffect(()=>{\r\n    if(token!==''){\r\n    fetch(`${process.env.REACT_APP_PUBLIC_URL_API}/record/balance`,{ method: 'GET',\r\n              headers: {\r\n                'Authorization' :`Bearer ${token}`,\r\n              }, }).then(res=>res.json()).then((res)=>res.balance\r\n              ?setBalance(Number(res.balance)):setBalance(0))\r\n              .catch(err=>console.log(err))}\r\n},[token,location])\r\n\r\n\r\n\r\n    return( \r\n        <div>\r\n         <div className=\"balance__container\">\r\n            <h1 className=\"balance__header\">Your balance</h1>\r\n            <h1 className={balance>=0?\"balance__number\":\"balance__number-negative\"} >{USDConverter(balance)}</h1>\r\n         </div>\r\n         <div className=\"balance__button-container\">\r\n            <button onClick={buttonOnclick} className=\"balance__button balance__button--hover\">New Record</button>\r\n        </div>\r\n        </div>)\r\n}\r\n\r\nexport default TotalBalance;"]},"metadata":{},"sourceType":"module"}